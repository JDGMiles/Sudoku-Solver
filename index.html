<!DOCTYPE html><html>

<head>

  <title>Sudoku Solver</title>

  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="shortcut icon" href="favicon.ico">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-62276892-2', 'auto');
    ga('send', 'pageview');
  </script>

</head>

<body onload="loadgrid(); updatebuttontwostatus();"><center>
  <br><br>

  <table>
    <tr>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('19')"; id="19" class="numbercell"></td>
            <td onClick="cellclicked('29')"; id="29" class="numbercell"></td>
            <td onClick="cellclicked('39')"; id="39" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('18')"; id="18" class="numbercell"></td>
            <td onClick="cellclicked('28')"; id="28" class="numbercell"></td>
            <td onClick="cellclicked('38')"; id="38" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('17')"; id="17" class="numbercell"></td>
            <td onClick="cellclicked('27')"; id="27" class="numbercell"></td>
            <td onClick="cellclicked('37')"; id="37" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('49')"; id="49" class="numbercell"></td>
            <td onClick="cellclicked('59')"; id="59" class="numbercell"></td>
            <td onClick="cellclicked('69')"; id="69" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('48')"; id="48" class="numbercell"></td>
            <td onClick="cellclicked('58')"; id="58" class="numbercell"></td>
            <td onClick="cellclicked('68')"; id="68" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('47')"; id="47" class="numbercell"></td>
            <td onClick="cellclicked('57')"; id="57" class="numbercell"></td>
            <td onClick="cellclicked('67')"; id="67" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('79')"; id="79" class="numbercell"></td>
            <td onClick="cellclicked('89')"; id="89" class="numbercell"></td>
            <td onClick="cellclicked('99')"; id="99" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('78')"; id="78" class="numbercell"></td>
            <td onClick="cellclicked('88')"; id="88" class="numbercell"></td>
            <td onClick="cellclicked('98')"; id="98" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('77')"; id="77" class="numbercell"></td>
            <td onClick="cellclicked('87')"; id="87" class="numbercell"></td>
            <td onClick="cellclicked('97')"; id="97" class="numbercell"></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('16')"; id="16" class="numbercell"></td>
            <td onClick="cellclicked('26')"; id="26" class="numbercell"></td>
            <td onClick="cellclicked('36')"; id="36" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('15')"; id="15" class="numbercell"></td>
            <td onClick="cellclicked('25')"; id="25" class="numbercell"></td>
            <td onClick="cellclicked('35')"; id="35" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('14')"; id="14" class="numbercell"></td>
            <td onClick="cellclicked('24')"; id="24" class="numbercell"></td>
            <td onClick="cellclicked('34')"; id="34" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('46')"; id="46" class="numbercell"></td>
            <td onClick="cellclicked('56')"; id="56" class="numbercell"></td>
            <td onClick="cellclicked('66')"; id="66" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('45')"; id="45" class="numbercell"></td>
            <td onClick="cellclicked('55')"; id="55" class="numbercell"></td>
            <td onClick="cellclicked('65')"; id="65" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('44')"; id="44" class="numbercell"></td>
            <td onClick="cellclicked('54')"; id="54" class="numbercell"></td>
            <td onClick="cellclicked('64')"; id="64" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('76')"; id="76" class="numbercell"></td>
            <td onClick="cellclicked('86')"; id="86" class="numbercell"></td>
            <td onClick="cellclicked('96')"; id="96" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('75')"; id="75" class="numbercell"></td>
            <td onClick="cellclicked('85')"; id="85" class="numbercell"></td>
            <td onClick="cellclicked('95')"; id="95" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('74')"; id="74" class="numbercell"></td>
            <td onClick="cellclicked('84')"; id="84" class="numbercell"></td>
            <td onClick="cellclicked('94')"; id="94" class="numbercell"></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('13')"; id="13" class="numbercell"></td>
            <td onClick="cellclicked('23')"; id="23" class="numbercell"></td>
            <td onClick="cellclicked('33')"; id="33" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('12')"; id="12" class="numbercell"></td>
            <td onClick="cellclicked('22')"; id="22" class="numbercell"></td>
            <td onClick="cellclicked('32')"; id="32" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('11')"; id="11" class="numbercell"></td>
            <td onClick="cellclicked('21')"; id="21" class="numbercell"></td>
            <td onClick="cellclicked('31')"; id="31" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('43')"; id="43" class="numbercell"></td>
            <td onClick="cellclicked('53')"; id="53" class="numbercell"></td>
            <td onClick="cellclicked('63')"; id="63" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('42')"; id="42" class="numbercell"></td>
            <td onClick="cellclicked('52')"; id="52" class="numbercell"></td>
            <td onClick="cellclicked('62')"; id="62" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('41')"; id="41" class="numbercell"></td>
            <td onClick="cellclicked('51')"; id="51" class="numbercell"></td>
            <td onClick="cellclicked('61')"; id="61" class="numbercell"></td>
          </tr>
        </table>
      </td>
      <td class="threebythreecell">
        <table>
          <tr>
            <td onClick="cellclicked('73')"; id="73" class="numbercell"></td>
            <td onClick="cellclicked('83')"; id="83" class="numbercell"></td>
            <td onClick="cellclicked('93')"; id="93" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('72')"; id="72" class="numbercell"></td>
            <td onClick="cellclicked('82')"; id="82" class="numbercell"></td>
            <td onClick="cellclicked('92')"; id="92" class="numbercell"></td>
          </tr>
          <tr>
            <td onClick="cellclicked('71')"; id="71" class="numbercell"></td>
            <td onClick="cellclicked('81')"; id="81" class="numbercell"></td>
            <td onClick="cellclicked('91')"; id="91" class="numbercell"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table style="height:80px; width: 484px; vertical-align:middle;">

    <tr>

      <td style="text-align:left;">
        <button onclick="solve()" class="solvebutton">Solve</button>&nbsp;
        <button onclick="buttontwo()" id="buttontwotext" class="buttontwo">Example</button>
      </td>

      <td style="text-align:right;">
        <a class="icons" href="#popup1"><img src="http://jdgmiles.github.io/questionmark.png" style="width:60px;"></a>
        <a class="icons" href="https://twitter.com/JDGMiles/" target="_blank"><img src="http://jdgmiles.github.io/twitter.png" style="width:60px"></a>
        <a class="icons" href="http://JDGM.org/" target="_blank"><img src="http://jdgmiles.github.io/jdgm.png" style="width:60px"></a>
      </td>

    </tr>

  </table>

  <div id="popup1" class="overlay">
    <div class="popup">
      <div style="font-family:Georgia; color:white; text-align:center; font-size:250%">Sudoku Solver</div>
      <a class="close" href="#">&times;</a>
      <p style="font-family:Georgia; font-size:150%; color:white; text-align:center;">Click a cell to insert a number.<br><br>Click it again and use the blank button (or type zero) to clear it.<br><br>When you&rsquo;re ready click &ldquo;Solve&rdquo;.</p>
    </div>
  </div>

  <div id="picknumber" class="pickingtable" style="visibility:hidden; position:absolute; top:0px; left:0px;">
    <table>
      <tr style="vertical-align:middle;">
        <td onClick="numberpicked('1')"; class="pickingcell"><div id="M1" class="pickingcellcontent">1</div></td>
        <td onClick="numberpicked('2')"; class="pickingcell"><div id="M2" class="pickingcellcontent">2</div></td>
        <td onClick="numberpicked('3')"; class="pickingcell"><div id="M3" class="pickingcellcontent">3</div></td>
      </tr>
      <tr>
        <td onClick="numberpicked('4')"; class="pickingcell"><div id="M4" class="pickingcellcontent">4</div></td>
        <td onClick="numberpicked('5')"; class="pickingcell"><div id="M5" class="pickingcellcontent">5</div></td>
        <td onClick="numberpicked('6')"; class="pickingcell"><div id="M6" class="pickingcellcontent">6</div></td>
      </tr>
      <tr>
        <td onClick="numberpicked('7')"; class="pickingcell"><div id="M7" class="pickingcellcontent">7</div></td>
        <td onClick="numberpicked('8')"; class="pickingcell"><div id="M8" class="pickingcellcontent">8</div></td>
        <td onClick="numberpicked('9')"; class="pickingcell"><div id="M9" class="pickingcellcontent">9</div></td>
      </tr>
    </table>
  </div>

</center></body>
</html>

<script type="text/javascript">

var cellvalue = []; for(i=0; i<100; i++){cellvalue[i]="";}
var currentcell=11;
var examplemode=1;
var notempty=0;

var possibles = new Array(100)
for(var i=0; i< 100; i++){possibles[i] = new Array(10); for(var j=0; j<10; j++){possibles[i][j]=1;}}

var progressmade=0;

var lonepossible=0;
var possiblecount=0;

var bottomleft=0;

var initialgrid=window.location.search.substring(1);
var gridcode=[];

var skipunusedcells=0;

document.body.onkeydown = function(e){
	if(e.keyCode>47 && e.keyCode<58){
    numberpicked(e.keyCode-48);
    currentcell++;
    if(currentcell>99){currentcell=11;}
    if(currentcell%10==0){currentcell++;}
  }
}

function cellclicked(cellcoords){

  closemenu();

  updategridvisual();

  if(cellvalue[cellcoords]==""){document.getElementById(cellcoords).innerHTML="<span style=\"color:black;\">?</span>";}
  else{document.getElementById("M"+cellvalue[cellcoords]).innerHTML="";}
  document.getElementById("picknumber").style.visibility="visible";
  document.getElementById("picknumber").style.left=(event.clientX+10)+"px";
  document.getElementById("picknumber").style.top=(event.clientY+10)+"px";

  currentcell=cellcoords;
}

function numberpicked(pick){
  if(cellvalue[currentcell]==pick){cellvalue[currentcell]="";}
  else{cellvalue[currentcell]=pick;}
  clearsolveprogress();
  updategridvisual();
//  genereategridcode();
  updatebuttontwostatus();
  closemenu();
}

function closemenu(){
  document.getElementById("picknumber").style.visibility="hidden";
  for(i=1; i<10; i++){document.getElementById("M"+i).innerHTML=i;}
}

function buttontwo(){
  closemenu();
  if(examplemode){example();}
  else{cleargrid();}
}

function example(){
  cellvalue[19]=8;
  cellvalue[21]=9;
  cellvalue[26]=5;
  cellvalue[27]=7;
  cellvalue[32]=8;
  cellvalue[33]=1;
  cellvalue[38]=3;
  cellvalue[42]=5;
  cellvalue[44]=1;
  cellvalue[48]=6;
  cellvalue[55]=4;
  cellvalue[57]=9;
  cellvalue[65]=5;
  cellvalue[66]=7;
  cellvalue[71]=4;
  cellvalue[75]=7;
  cellvalue[77]=2;
  cellvalue[82]=1;
  cellvalue[83]=6;
  cellvalue[84]=3;
  cellvalue[93]=8;
  updategridvisual();
  updatebuttontwostatus();
}

function cleargrid(){
  for(i=0; i<100; i++){cellvalue[i]="";}
  currentcell=11;
  clearsolveprogress();
  updategridvisual();
  updatebuttontwostatus();
}

function clearsolveprogress(){
  for(i=0; i<100; i++){for(var j=0; j<10; j++){possibles[i][j]=1;}}
}

function updategridvisual(){
  for(i=0; i<100; i++){if(i>9 && i%10!=0){document.getElementById(i).innerHTML="<span style=\"color:black;\">"+cellvalue[i]+"</span>";}}
}

function updatebuttontwostatus(){
  for(i=0; i<100; i++){if(cellvalue[i]!=""){notempty=1;}}
  if(notempty){examplemode=0; document.getElementById("buttontwotext").innerHTML="Clear"; notempty=0;}
  else{examplemode=1; document.getElementById("buttontwotext").innerHTML="Example";}
}

function solve(){
  progressmade=0;
  removepossiblefromknowns();
  eliminateinrow();
  eliminateincolumn();
  eliminateinbox();
  aloneincolumn();
  aloneinrow();
  aloneinbox();
  checkforknown();
  updategridvisual();
  if(progressmade){solve();}
}

function removepossiblefromknowns(){
  for(var i=11; i<100; i++){
    if(cellvalue[i]!=""){
      for(var j=1; j<10; j++){
        if(possibles[i][j]==1  && j!=cellvalue[i]){
          possibles[i][j]=0; progressmade=1;
        }
      }
    }
  }
}

function checkforknown(){
  for(var i=11; i<100; i++){
    if(cellvalue[i]==""){
      lonepossible=0;
      possiblecount=0;
      for(var j=1; j<10; j++){
        if(possibles[i][j]==1){lonepossible=j; possiblecount++;}
      }
      if(possiblecount==1){cellvalue[i]=lonepossible; progressmade=1;}
    }
  }
}

function eliminateinrow(){
  for(var i=11; i<100; i++){
    if(cellvalue[i]!=""){
      for(j=(i%10)+10; j<100; j+=10){
        if(possibles[j][cellvalue[i]]==1 && j!=i){
          possibles[j][cellvalue[i]]=0; progressmade=1;
        }
      }
    }
  }
}

function eliminateincolumn(){
  for(var i=11; i<100; i++){
    if(cellvalue[i]!=""){
      for(j=10*Math.floor(i/10)+1; j<10*(Math.floor(i/10)+1); j++){
        if(possibles[j][cellvalue[i]]==1  && j!=i){
          possibles[j][cellvalue[i]]=0; progressmade=1;
        }
      }
    }
  }
}

function eliminateinbox(){
  for(var i=11; i<100; i++){
    if(cellvalue[i]!=""){
      bottomleft=((30*Math.floor((i-10)/30))+10)+((3*Math.floor(((i%10)-1)/3))+1);
      if(possibles[bottomleft][cellvalue[i]]==1 && bottomleft!=i){possibles[bottomleft][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+1][cellvalue[i]]==1 && bottomleft+1!=i){possibles[bottomleft+1][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+2][cellvalue[i]]==1 && bottomleft+2!=i){possibles[bottomleft+2][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+10][cellvalue[i]]==1 && bottomleft+10!=i){possibles[bottomleft+10][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+11][cellvalue[i]]==1 && bottomleft+11!=i){possibles[bottomleft+11][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+12][cellvalue[i]]==1 && bottomleft+12!=i){possibles[bottomleft+12][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+20][cellvalue[i]]==1 && bottomleft+20!=i){possibles[bottomleft+20][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+21][cellvalue[i]]==1 && bottomleft+21!=i){possibles[bottomleft+21][cellvalue[i]]=0; progressmade=1;}
      if(possibles[bottomleft+22][cellvalue[i]]==1 && bottomleft+22!=i){possibles[bottomleft+22][cellvalue[i]]=0; progressmade=1;}
    }
  }
}

function aloneincolumn(){
  for(var i=1; i<10; i++){
    for(var j=1; j<10; j++){
      lonepossible=0;
      possiblecount=0;
      for(var k=1; k<10; k++){
        if(possibles[10*j+k][i]==1){lonepossible=10*j+k; possiblecount++;}
      }
      if(possiblecount==1 && cellvalue[lonepossible]!=i){cellvalue[lonepossible]=i; progressmade=1;}
    }
  }
}

function aloneinrow(){
  for(var i=1; i<10; i++){
    for(var j=1; j<10; j++){
      lonepossible=0;
      possiblecount=0;
      for(var k=1; k<10; k++){
        if(possibles[j+10*k][i]==1){lonepossible=j+10*k; possiblecount++;}
      }
      if(possiblecount==1 && cellvalue[lonepossible]!=i){cellvalue[lonepossible]=i; progressmade=1;}
    }
  }
}

function aloneinbox(){
  for(var i=1; i<10; i++){
    for(var j=1; j<10; j++){
      lonepossible=0;
      possiblecount=0;
      bottomleft=(30*Math.floor((j+2)/3))-20 + (3*((j+2)%3))+1;
      if(possibles[bottomleft][i]==1){lonepossible=bottomleft; possiblecount++;}
      if(possibles[bottomleft+1][i]==1){lonepossible=bottomleft+1; possiblecount++;}
      if(possibles[bottomleft+2][i]==1){lonepossible=bottomleft+2; possiblecount++;}
      if(possibles[bottomleft+10][i]==1){lonepossible=bottomleft+10; possiblecount++;}
      if(possibles[bottomleft+11][i]==1){lonepossible=bottomleft+11; possiblecount++;}
      if(possibles[bottomleft+12][i]==1){lonepossible=bottomleft+12; possiblecount++;}
      if(possibles[bottomleft+20][i]==1){lonepossible=bottomleft+20; possiblecount++;}
      if(possibles[bottomleft+21][i]==1){lonepossible=bottomleft+21; possiblecount++;}
      if(possibles[bottomleft+22][i]==1){lonepossible=bottomleft+22; possiblecount++;}
      if(possiblecount==1 && cellvalue[lonepossible]!=i){cellvalue[lonepossible]=i; progressmade=1;}
    }
  }
}

function loadgrid(){
  if(initialgrid.length==81){
    for(k=1; k<82; k++){
      if(initialgrid.charAt(k-1)!=0){cellvalue[currentcell]=(initialgrid.charAt(k-1));}
      currentcell++;
      if(currentcell%10==0){currentcell++;}
    }
    updategridvisual();
  }
  currentcell=11;
}

function genereategridcode(){
  skipunusedcells=11;
  for(i=0; i<81; i++){
    if(skipunusedcells%10==0){skipunusedcells++;}
    gridcode[i]=cellvalue[skipunusedcells];
    if(gridcode[i]==""){gridcode[i]="0";}
    skipunusedcells++;
  }
  window.location.href = "?"+gridcode.join("");
}

</script>
